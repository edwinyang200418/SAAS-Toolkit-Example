<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Clone - Advanced Demo</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Main Layout: 3 columns -->
    <div class="app-container">

        <!-- Column 1: Server List (Left sidebar) -->
        <div class="servers-sidebar">
            <div class="server-item home-button" onclick="app.showHomeScreen()" title="Home">
                <div class="server-icon">ğŸ </div>
            </div>
            <div class="server-separator"></div>
            <div id="serversList">
                <!-- Servers will be rendered here -->
            </div>
            <div class="server-item add-server" onclick="app.showAddServerModal()" title="Add Server">
                <div class="server-icon">+</div>
            </div>
        </div>

        <!-- Column 2: Channels List (Middle sidebar) -->
        <div class="channels-sidebar">
            <div class="server-header" id="serverHeader">
                <span id="serverName">Select a server</span>
                <button class="dropdown-icon" onclick="app.showServerOptions()">â–¼</button>
            </div>

            <!-- Channels list -->
            <div class="channels-list" id="channelsList">
                <!-- Channels will be rendered here -->
            </div>

            <!-- User profile bar at bottom -->
            <div class="user-panel">
                <div class="user-info" onclick="app.showUserProfile()">
                    <div class="user-avatar" id="userAvatar">ğŸ‘¨â€ğŸ’»</div>
                    <div class="user-details">
                        <div class="username" id="username">Loading...</div>
                        <div class="user-tag" id="userTag">#0000</div>
                    </div>
                </div>
                <div class="user-controls">
                    <button class="icon-button" title="Mute" onclick="app.toggleMute()">ğŸ”‡</button>
                    <button class="icon-button" title="Deafen" onclick="app.toggleDeafen()">ğŸ§</button>
                    <button class="icon-button" title="Settings" onclick="app.showSettings()">âš™ï¸</button>
                </div>
            </div>
        </div>

        <!-- Column 3: Main Chat Area -->
        <div class="main-content">
            <!-- Chat header -->
            <div class="chat-header">
                <div class="channel-info">
                    <span class="channel-icon">#</span>
                    <span class="channel-name" id="currentChannelName">Select a channel</span>
                </div>
                <div class="chat-controls">
                    <button class="icon-button" title="Members" onclick="app.toggleMembersList()">ğŸ‘¥</button>
                    <button class="icon-button" title="Search">ğŸ”</button>
                </div>
            </div>

            <!-- Messages area -->
            <div class="messages-container">
                <div class="messages-list" id="messagesList">
                    <!-- Messages will be rendered here -->
                </div>
            </div>

            <!-- Message input -->
            <div class="message-input-container">
                <button class="attach-button" title="Attach file">+</button>
                <input type="text"
                       class="message-input"
                       id="messageInput"
                       placeholder="Message #general"
                       onkeypress="app.handleMessageKeyPress(event)">
                <button class="emoji-button" title="Emoji" onclick="app.showEmojiPicker()">ğŸ˜€</button>
            </div>
        </div>

        <!-- Column 4: Members List (Right sidebar - toggleable) -->
        <div class="members-sidebar" id="membersSidebar">
            <div class="members-list" id="membersList">
                <!-- Members will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Create Server Modal -->
    <div class="modal" id="createServerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create Your Server</h2>
                <button class="close-btn" onclick="app.closeCreateServerModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <p class="modal-description">Give your server a personality with a name and icon. You can always change it later.</p>
                <div class="form-group">
                    <label>Server Icon</label>
                    <div class="icon-picker">
                        <button class="icon-option" onclick="app.selectIcon('ğŸ®')">ğŸ®</button>
                        <button class="icon-option" onclick="app.selectIcon('ğŸ’»')">ğŸ’»</button>
                        <button class="icon-option" onclick="app.selectIcon('ğŸ¨')">ğŸ¨</button>
                        <button class="icon-option" onclick="app.selectIcon('ğŸµ')">ğŸµ</button>
                        <button class="icon-option" onclick="app.selectIcon('ğŸ€')">ğŸ€</button>
                        <button class="icon-option" onclick="app.selectIcon('ğŸ“š')">ğŸ“š</button>
                        <button class="icon-option" onclick="app.selectIcon('ğŸ•')">ğŸ•</button>
                        <button class="icon-option" onclick="app.selectIcon('ğŸš€')">ğŸš€</button>
                    </div>
                    <div class="selected-icon" id="selectedIcon">ğŸ®</div>
                </div>
                <div class="form-group">
                    <label>Server Name</label>
                    <input type="text" id="serverNameInput" placeholder="Enter server name" class="text-input">
                </div>
                <button class="btn-primary" onclick="app.createServer()">Create Server</button>
            </div>
        </div>
    </div>

    <!-- Create Channel Modal -->
    <div class="modal" id="createChannelModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create Channel</h2>
                <button class="close-btn" onclick="app.closeCreateChannelModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Channel Name</label>
                    <input type="text" id="channelNameInput" placeholder="new-channel" class="text-input">
                </div>
                <button class="btn-primary" onclick="app.createChannel()">Create Channel</button>
            </div>
        </div>
    </div>

    <!-- User Profile Modal -->
    <div class="modal" id="userProfileModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>User Profile</h2>
                <button class="close-btn" onclick="app.closeUserProfileModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="profile-header">
                    <div class="profile-banner"></div>
                    <div class="profile-avatar-large" id="profileAvatar">ğŸ‘¨â€ğŸ’»</div>
                </div>
                <div class="profile-info">
                    <h3 class="profile-username" id="profileUsername">CodeMaster</h3>
                    <p class="profile-tag" id="profileTag">#1234</p>
                    <div class="profile-status">
                        <div class="status-indicator online"></div>
                        <span id="profileStatus">Online</span>
                    </div>
                    <div class="profile-custom-status" id="profileCustomStatus">
                        Building cool stuff
                    </div>
                </div>
                <div class="profile-section">
                    <h4>About Me</h4>
                    <p id="profileBio">Full-stack developer | Coffee enthusiast</p>
                </div>
                <div class="profile-actions">
                    <button class="btn-primary" onclick="app.sendDirectMessage()">Send Message</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Emoji Picker Modal -->
    <div class="modal" id="emojiPickerModal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h3>Pick an emoji</h3>
                <button class="close-btn" onclick="app.closeEmojiPickerModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="emoji-grid">
                    <button class="emoji-option" onclick="app.addEmoji('ğŸ‘')">ğŸ‘</button>
                    <button class="emoji-option" onclick="app.addEmoji('â¤ï¸')">â¤ï¸</button>
                    <button class="emoji-option" onclick="app.addEmoji('ğŸ˜‚')">ğŸ˜‚</button>
                    <button class="emoji-option" onclick="app.addEmoji('ğŸ”¥')">ğŸ”¥</button>
                    <button class="emoji-option" onclick="app.addEmoji('âœ¨')">âœ¨</button>
                    <button class="emoji-option" onclick="app.addEmoji('ğŸ‰')">ğŸ‰</button>
                    <button class="emoji-option" onclick="app.addEmoji('ğŸ‘€')">ğŸ‘€</button>
                    <button class="emoji-option" onclick="app.addEmoji('ğŸš€')">ğŸš€</button>
                    <button class="emoji-option" onclick="app.addEmoji('ğŸ’¯')">ğŸ’¯</button>
                    <button class="emoji-option" onclick="app.addEmoji('â­')">â­</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay" onclick="app.closeAllModals()"></div>

    <script src="database.js"></script>
    <script src="app.js"></script>
</body>
</html>
