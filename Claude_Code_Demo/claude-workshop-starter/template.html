<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SaaS Toolkit</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0a0a;
            color: #a3a3a3;
            font-family: -apple-system, 'Inter', system-ui, sans-serif;
            line-height: 1.6;
        }

        /* Navigation */
        .nav-container {
            background: #141414;
            border-bottom: 1px solid #262626;
            padding: 20px;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-wrapper {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
        }

        .nav-brand {
            color: #ffffff;
            font-size: 20px;
            font-weight: 700;
        }

        .nav-tabs {
            display: flex;
            gap: 8px;
        }

        .nav-tab {
            background: transparent;
            border: 1px solid #262626;
            color: #737373;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s ease;
        }

        .nav-tab:hover {
            background: #1a1a1a;
            color: #a3a3a3;
            border-color: #404040;
        }

        .nav-tab.active {
            background: #3b82f6;
            border-color: #3b82f6;
            color: white;
        }

        /* View containers */
        .view {
            display: none;
        }

        .view.active {
            display: block;
        }

        /* Common styles */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        h1 {
            color: #ffffff;
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        h2 {
            color: #ffffff;
            font-size: 20px;
            font-weight: 600;
        }

        button {
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s ease;
        }

        button:hover {
            background: #2563eb;
            transform: translateY(-1px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
        }

        /* Dashboard specific styles */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 24px;
            transition: all 250ms ease;
        }

        .metric-card:hover {
            background: #1a1a1a;
            border-color: #404040;
            transform: translateY(-2px);
        }

        .metric-label {
            color: #737373;
            font-size: 13px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
        }

        .metric-value {
            color: #ffffff;
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .metric-change {
            display: inline-flex;
            align-items: center;
            font-size: 14px;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 6px;
        }

        .metric-change.positive {
            color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }

        .metric-change.negative {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .metric-change.neutral {
            color: #737373;
            background: rgba(115, 115, 115, 0.1);
        }

        .chart-section {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .chart-card {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 28px;
        }

        /* Lead Scorer specific styles */
        .scorer-layout {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 20px;
        }

        .form-card {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 24px;
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        label {
            display: block;
            color: #ffffff;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 6px;
        }

        input, select {
            width: 100%;
            background: #0a0a0a;
            border: 1px solid #262626;
            border-radius: 8px;
            padding: 10px 12px;
            color: #ffffff;
            font-size: 14px;
            transition: all 0.25s ease;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        input::placeholder {
            color: #737373;
        }

        .leads-list {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 24px;
        }

        .lead-card {
            background: #0a0a0a;
            border: 1px solid #262626;
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 12px;
            display: grid;
            grid-template-columns: 60px 1fr auto;
            gap: 16px;
            align-items: center;
        }

        .lead-score {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
        }

        .lead-score.hot {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 2px solid #ef4444;
        }

        .lead-score.warm {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
            border: 2px solid #f59e0b;
        }

        .lead-score.cold {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
            border: 2px solid #3b82f6;
        }

        .lead-info h3 {
            color: #ffffff;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .lead-details {
            color: #737373;
            font-size: 13px;
        }

        .book-demo-btn {
            background: #ef4444;
            padding: 8px 16px;
            font-size: 13px;
        }

        .book-demo-btn:hover {
            background: #dc2626;
        }

        /* Billing specific styles */
        .billing-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .toggle-switch {
            display: flex;
            align-items: center;
            gap: 12px;
            background: #141414;
            border: 1px solid #262626;
            border-radius: 8px;
            padding: 8px;
        }

        .toggle-option {
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s ease;
            background: transparent;
            color: #737373;
            border: none;
        }

        .toggle-option.active {
            background: #3b82f6;
            color: white;
        }

        .savings-badge {
            background: #10b981;
            color: white;
            font-size: 11px;
            font-weight: 700;
            padding: 4px 8px;
            border-radius: 4px;
            margin-left: 4px;
        }

        .current-plan-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #141414 100%);
            border: 2px solid #3b82f6;
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 30px;
        }

        .plan-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 24px;
        }

        .plan-badge {
            background: #3b82f6;
            color: white;
            font-size: 11px;
            font-weight: 700;
            padding: 6px 12px;
            border-radius: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .usage-bars {
            display: grid;
            gap: 20px;
            margin-top: 24px;
        }

        .usage-item label {
            display: flex;
            justify-content: space-between;
            color: #a3a3a3;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .usage-bar {
            height: 8px;
            background: #262626;
            border-radius: 4px;
            overflow: hidden;
        }

        .usage-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .usage-fill.normal {
            background: #3b82f6;
        }

        .usage-fill.warning {
            background: #f59e0b;
        }

        .usage-fill.danger {
            background: #ef4444;
        }

        .plans-comparison {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .plan-option {
            background: #141414;
            border: 2px solid #262626;
            border-radius: 12px;
            padding: 28px;
            transition: all 0.25s ease;
            cursor: pointer;
            position: relative;
        }

        .plan-option:hover {
            border-color: #404040;
            transform: translateY(-4px);
        }

        .plan-option.recommended {
            border-color: #3b82f6;
        }

        .plan-option.current {
            border-color: #10b981;
        }

        .recommended-badge {
            position: absolute;
            top: -12px;
            right: 20px;
            background: #3b82f6;
            color: white;
            font-size: 11px;
            font-weight: 700;
            padding: 4px 10px;
            border-radius: 6px;
            text-transform: uppercase;
        }

        .plan-name-billing {
            color: #ffffff;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .plan-price-billing {
            color: #3b82f6;
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .plan-period-billing {
            color: #737373;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .plan-features-billing {
            list-style: none;
            margin: 20px 0;
        }

        .plan-features-billing li {
            color: #a3a3a3;
            font-size: 14px;
            margin-bottom: 10px;
            padding-left: 24px;
            position: relative;
        }

        .plan-features-billing li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #10b981;
            font-weight: 700;
        }

        .team-members-section {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 30px;
        }

        .member-controls {
            display: flex;
            align-items: center;
            gap: 16px;
            margin: 20px 0;
        }

        .member-counter {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .counter-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            background: #0a0a0a;
            border: 1px solid #262626;
            color: #ffffff;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.25s ease;
            padding: 0;
        }

        .counter-btn:hover {
            background: #1a1a1a;
            border-color: #3b82f6;
        }

        .counter-value {
            color: #ffffff;
            font-size: 24px;
            font-weight: 700;
            min-width: 40px;
            text-align: center;
        }

        .calculator-section {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 28px;
        }

        .calculator-inputs {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 24px;
        }

        .calculator-result {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 12px;
            padding: 28px;
            text-align: center;
        }

        .result-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .result-value {
            color: #ffffff;
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .result-breakdown {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
        }

        /* Content Planner specific styles */
        .content-layout {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 20px;
        }

        .calendar-section {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 24px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .calendar-nav {
            display: flex;
            gap: 8px;
        }

        .calendar-nav button {
            padding: 8px 12px;
            background: #0a0a0a;
            border: 1px solid #262626;
            color: #a3a3a3;
            font-size: 14px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }

        .calendar-day-header {
            text-align: center;
            color: #737373;
            font-size: 12px;
            font-weight: 600;
            padding: 8px;
            text-transform: uppercase;
        }

        .calendar-day {
            background: #0a0a0a;
            border: 1px solid #262626;
            border-radius: 8px;
            padding: 8px;
            min-height: 100px;
            cursor: pointer;
            transition: all 0.25s ease;
        }

        .calendar-day:hover {
            background: #141414;
            border-color: #404040;
        }

        .calendar-day.other-month {
            opacity: 0.3;
        }

        .day-number {
            color: #a3a3a3;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .calendar-day.today .day-number {
            color: #3b82f6;
        }

        .content-item {
            background: #141414;
            border-left: 3px solid;
            border-radius: 4px;
            padding: 4px 6px;
            margin-top: 4px;
            font-size: 11px;
            cursor: pointer;
        }

        .content-item.blog {
            border-color: #3b82f6;
            color: #3b82f6;
        }

        .content-item.social {
            border-color: #10b981;
            color: #10b981;
        }

        .content-item.video {
            border-color: #f59e0b;
            color: #f59e0b;
        }

        .content-item.email {
            border-color: #8b5cf6;
            color: #8b5cf6;
        }

        .sidebar-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .widget {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 20px;
        }

        .widget h3 {
            color: #ffffff;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .keyword-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .keyword-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: #0a0a0a;
            border-radius: 8px;
        }

        .keyword-info {
            flex: 1;
        }

        .keyword-name {
            color: #ffffff;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .keyword-volume {
            color: #737373;
            font-size: 11px;
        }

        .keyword-rank {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 16px;
            font-weight: 700;
        }

        .keyword-rank.up {
            color: #10b981;
        }

        .keyword-rank.down {
            color: #ef4444;
        }

        .keyword-rank.neutral {
            color: #737373;
        }

        .social-post-form {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .platform-selector {
            display: flex;
            gap: 8px;
        }

        .platform-btn {
            flex: 1;
            padding: 8px;
            background: #0a0a0a;
            border: 2px solid #262626;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s ease;
        }

        .platform-btn.active {
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
        }

        textarea {
            width: 100%;
            background: #0a0a0a;
            border: 1px solid #262626;
            border-radius: 8px;
            padding: 12px;
            color: #ffffff;
            font-size: 14px;
            font-family: inherit;
            resize: vertical;
            min-height: 80px;
        }

        textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .char-count {
            text-align: right;
            color: #737373;
            font-size: 12px;
        }

        .idea-card {
            background: #0a0a0a;
            border: 1px solid #262626;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.25s ease;
        }

        .idea-card:hover {
            background: #141414;
            border-color: #3b82f6;
        }

        .idea-title {
            color: #ffffff;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .idea-description {
            color: #737373;
            font-size: 12px;
        }

        .metrics-grid-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .metric-card-small {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 16px;
        }

        .metric-label-small {
            color: #737373;
            font-size: 12px;
            margin-bottom: 8px;
        }

        .metric-value-small {
            color: #ffffff;
            font-size: 24px;
            font-weight: 700;
        }

        /* Affiliate Dashboard specific styles */
        .affiliate-layout {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 20px;
        }

        .referral-link-card {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 24px;
        }

        .referral-link-card h2 {
            color: white;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .referral-link-card p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            margin-bottom: 20px;
        }

        .link-input-group {
            display: flex;
            gap: 12px;
        }

        .link-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-family: monospace;
        }

        .link-input:focus {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .copy-btn {
            background: white;
            color: #3b82f6;
            padding: 12px 24px;
            font-weight: 700;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.9);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .stat-card-affiliate {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 12px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .stat-number {
            color: #ffffff;
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .stat-label-affiliate {
            color: #737373;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .commission-calculator-card {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .tier-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin: 20px 0;
        }

        .tier-option {
            background: #0a0a0a;
            border: 2px solid #262626;
            border-radius: 8px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.25s ease;
            text-align: center;
        }

        .tier-option:hover {
            border-color: #404040;
        }

        .tier-option.active {
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
        }

        .tier-name {
            color: #ffffff;
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .tier-rate {
            color: #3b82f6;
            font-size: 20px;
            font-weight: 700;
        }

        .conversion-timeline {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 24px;
        }

        .timeline-item {
            display: flex;
            gap: 16px;
            padding: 16px 0;
            border-bottom: 1px solid #262626;
        }

        .timeline-item:last-child {
            border-bottom: none;
        }

        .timeline-icon {
            width: 40px;
            height: 40px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .timeline-content {
            flex: 1;
        }

        .timeline-title {
            color: #ffffff;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .timeline-meta {
            color: #737373;
            font-size: 12px;
        }

        .timeline-amount {
            color: #10b981;
            font-size: 18px;
            font-weight: 700;
        }

        .leaderboard-card {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 24px;
        }

        .leaderboard-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: #0a0a0a;
            border-radius: 8px;
            margin-bottom: 12px;
            transition: all 0.25s ease;
        }

        .leaderboard-item:hover {
            background: #141414;
            transform: translateX(4px);
        }

        .rank-badge {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 700;
            flex-shrink: 0;
        }

        .rank-1 {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #000;
        }

        .rank-2 {
            background: linear-gradient(135deg, #c0c0c0, #e8e8e8);
            color: #000;
        }

        .rank-3 {
            background: linear-gradient(135deg, #cd7f32, #daa520);
            color: #000;
        }

        .rank-other {
            background: #262626;
            color: #737373;
        }

        .affiliate-info {
            flex: 1;
        }

        .affiliate-name {
            color: #ffffff;
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .affiliate-stats {
            color: #737373;
            font-size: 12px;
        }

        .affiliate-earnings {
            color: #10b981;
            font-size: 18px;
            font-weight: 700;
        }

        .payout-card {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 24px;
        }

        .payout-status {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .payout-status.pending {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
        }

        .payout-status.completed {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
        }

        .payout-amount {
            color: #ffffff;
            font-size: 48px;
            font-weight: 700;
            margin: 16px 0;
        }

        .payout-details {
            display: grid;
            gap: 12px;
            margin: 20px 0;
        }

        .payout-detail-row {
            display: flex;
            justify-content: space-between;
            padding: 12px;
            background: #0a0a0a;
            border-radius: 8px;
        }

        /* Customer Health specific styles */
        .health-layout {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 20px;
        }

        .customer-list {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
        }

        .customer-item {
            display: grid;
            grid-template-columns: 60px 1fr auto;
            gap: 16px;
            padding: 16px;
            background: #0a0a0a;
            border-radius: 10px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.25s ease;
        }

        .customer-item:hover {
            background: #141414;
            border-color: #404040;
        }

        .health-score-badge {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            flex-shrink: 0;
        }

        .health-score-badge.healthy {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border: 2px solid #10b981;
        }

        .health-score-badge.at-risk {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
            border: 2px solid #f59e0b;
        }

        .health-score-badge.critical {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 2px solid #ef4444;
            animation: pulse-red 2s infinite;
        }

        @keyframes pulse-red {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
            }
            50% {
                box-shadow: 0 0 0 8px rgba(239, 68, 68, 0);
            }
        }

        .customer-details h4 {
            color: #ffffff;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .customer-meta {
            color: #737373;
            font-size: 13px;
            margin-bottom: 6px;
        }

        .usage-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
        }

        .usage-bar-small {
            width: 80px;
            height: 4px;
            background: #262626;
            border-radius: 2px;
            overflow: hidden;
        }

        .usage-bar-fill {
            height: 100%;
            border-radius: 2px;
        }

        .risk-indicators {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .risk-badge {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            white-space: nowrap;
        }

        .risk-badge.low {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
        }

        .risk-badge.medium {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
        }

        .risk-badge.high {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .nps-builder {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 24px;
        }

        .nps-scale {
            display: grid;
            grid-template-columns: repeat(11, 1fr);
            gap: 8px;
            margin: 20px 0;
        }

        .nps-number {
            aspect-ratio: 1;
            background: #0a0a0a;
            border: 2px solid #262626;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.25s ease;
        }

        .nps-number:hover {
            border-color: #3b82f6;
        }

        .nps-number.detractor {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
        }

        .nps-number.passive {
            border-color: #f59e0b;
            background: rgba(245, 158, 11, 0.1);
            color: #f59e0b;
        }

        .nps-number.promoter {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
        }

        .nps-result {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-top: 20px;
        }

        .nps-score-large {
            color: white;
            font-size: 48px;
            font-weight: 700;
            margin: 8px 0;
        }

        .alert-card {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .alert-item {
            display: flex;
            gap: 12px;
            padding: 12px;
            background: #0a0a0a;
            border-left: 3px solid;
            border-radius: 6px;
            margin-bottom: 12px;
        }

        .alert-item.critical {
            border-color: #ef4444;
        }

        .alert-item.warning {
            border-color: #f59e0b;
        }

        .alert-item.info {
            border-color: #3b82f6;
        }

        .alert-icon-badge {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }

        .alert-text {
            flex: 1;
        }

        .alert-title {
            color: #ffffff;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .alert-description {
            color: #737373;
            font-size: 12px;
        }

        .journey-timeline {
            background: #141414;
            border: 1px solid #262626;
            border-radius: 12px;
            padding: 24px;
        }

        .journey-item {
            display: flex;
            gap: 16px;
            padding: 16px 0;
            position: relative;
        }

        .journey-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 20px;
            top: 60px;
            bottom: -16px;
            width: 2px;
            background: #262626;
        }

        .journey-icon-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
            position: relative;
            z-index: 1;
        }

        .journey-icon-circle.success {
            background: rgba(16, 185, 129, 0.2);
            border: 2px solid #10b981;
        }

        .journey-icon-circle.warning {
            background: rgba(245, 158, 11, 0.2);
            border: 2px solid #f59e0b;
        }

        .journey-icon-circle.neutral {
            background: rgba(59, 130, 246, 0.2);
            border: 2px solid #3b82f6;
        }

        .journey-content {
            flex: 1;
        }

        .journey-event-title {
            color: #ffffff;
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .journey-event-time {
            color: #737373;
            font-size: 12px;
        }

        @media (max-width: 968px) {
            .health-layout {
                grid-template-columns: 1fr;
            }

            .nps-scale {
                grid-template-columns: repeat(6, 1fr);
            }
        }

        @media (max-width: 968px) {
            .affiliate-layout {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .tier-selector {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 968px) {
            .content-layout {
                grid-template-columns: 1fr;
            }

            .metrics-grid-content {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 968px) {
            .plans-comparison {
                grid-template-columns: 1fr;
            }

            .calculator-inputs {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 968px) {
            .chart-section {
                grid-template-columns: 1fr;
            }

            .scorer-layout {
                grid-template-columns: 1fr;
            }

            .form-card {
                position: static;
            }

            .nav-tabs {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <div class="nav-container">
        <div class="nav-wrapper">
            <div class="nav-brand">📊 SaaS Toolkit</div>
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="switchView('dashboard')">Founder Dashboard</button>
                <button class="nav-tab" onclick="switchView('scorer')">Lead Scorer</button>
                <button class="nav-tab" onclick="switchView('billing')">Billing</button>
                <button class="nav-tab" onclick="switchView('content')">Content Planner</button>
                <button class="nav-tab" onclick="switchView('affiliate')">Affiliate</button>
                <button class="nav-tab" onclick="switchView('health')">Customer Health</button>
            </div>
        </div>
    </div>

    <!-- Dashboard View -->
    <div id="dashboard" class="view active">
        <div class="container">
            <h1>Founder's Dashboard</h1>
            <p style="color: #737373; margin-bottom: 30px;">Real-time metrics and insights for your SaaS business</p>

            <!-- Key Metrics -->
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-label">Monthly Recurring Revenue</div>
                    <div class="metric-value">$45,000</div>
                    <span class="metric-change positive">↑ 23% MoM</span>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Customer Acquisition Cost</div>
                    <div class="metric-value">$450</div>
                    <span class="metric-change neutral">→ Stable</span>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Lifetime Value</div>
                    <div class="metric-value">$1,350</div>
                    <span class="metric-change positive">LTV:CAC 3:1</span>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Churn Rate</div>
                    <div class="metric-value">3.2%</div>
                    <span class="metric-change positive">↓ 22% improvement</span>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Monthly Burn Rate</div>
                    <div class="metric-value">$28,000</div>
                    <span class="metric-change negative">Operating expenses</span>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Runway</div>
                    <div class="metric-value">18mo</div>
                    <span class="metric-change neutral">$504K in bank</span>
                </div>
            </div>

            <!-- Charts -->
            <div class="chart-section">
                <div class="chart-card">
                    <h2 style="margin-bottom: 24px;">MRR Growth (Last 12 Months)</h2>
                    <canvas id="mrrChart"></canvas>
                </div>

                <div class="chart-card">
                    <h2 style="margin-bottom: 24px;">Revenue Breakdown</h2>
                    <canvas id="revenueChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Lead Scorer View -->
    <div id="scorer" class="view">
        <div class="container">
            <h1>🎯 Lead Scoring Calculator</h1>
            <p style="color: #737373; margin-bottom: 30px;">Score and prioritize your best prospects</p>

            <!-- Stats -->
            <div class="metrics-grid" style="grid-template-columns: repeat(4, 1fr); margin-bottom: 30px;">
                <div class="metric-card">
                    <div class="metric-label">Total Leads</div>
                    <div class="metric-value" id="total-leads">0</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Hot Leads</div>
                    <div class="metric-value" id="hot-leads">0</div>
                    <span class="metric-change hot" style="background: rgba(239, 68, 68, 0.2); color: #ef4444;">80-100</span>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Warm Leads</div>
                    <div class="metric-value" id="warm-leads">0</div>
                    <span class="metric-change warm" style="background: rgba(245, 158, 11, 0.2); color: #f59e0b;">60-79</span>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Cold Leads</div>
                    <div class="metric-value" id="cold-leads">0</div>
                    <span class="metric-change cold" style="background: rgba(59, 130, 246, 0.2); color: #3b82f6;">0-59</span>
                </div>
            </div>

            <!-- Main Layout -->
            <div class="scorer-layout">
                <!-- Form -->
                <div class="form-card">
                    <h2 style="margin-bottom: 20px;">➕ Add New Lead</h2>
                    <form onsubmit="addLead(event)">
                        <div class="form-group">
                            <label>Contact Name</label>
                            <input type="text" id="contact-name" placeholder="John Smith" required>
                        </div>

                        <div class="form-group">
                            <label>Company Name</label>
                            <input type="text" id="company-name" placeholder="Acme Inc." required>
                        </div>

                        <div class="form-group">
                            <label>Job Title</label>
                            <select id="job-title" required>
                                <option value="">Select title</option>
                                <option value="executive">C-Level / VP (30pts)</option>
                                <option value="director">Director (20pts)</option>
                                <option value="manager">Manager (10pts)</option>
                                <option value="other">IC (5pts)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Company Size</label>
                            <select id="company-size" required>
                                <option value="">Select size</option>
                                <option value="enterprise">1000+ (30pts)</option>
                                <option value="large">250-999 (25pts)</option>
                                <option value="medium">50-249 (20pts)</option>
                                <option value="small">10-49 (10pts)</option>
                                <option value="startup">1-9 (5pts)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Industry</label>
                            <select id="industry" required>
                                <option value="">Select industry</option>
                                <option value="saas">SaaS (25pts)</option>
                                <option value="finance">Finance (20pts)</option>
                                <option value="healthcare">Healthcare (15pts)</option>
                                <option value="ecommerce">E-commerce (15pts)</option>
                                <option value="other">Other (5pts)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Engagement</label>
                            <select id="engagement" required>
                                <option value="">Select level</option>
                                <option value="high">High - Demo request (15pts)</option>
                                <option value="medium">Medium - Multiple visits (10pts)</option>
                                <option value="low">Low - Single visit (5pts)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="email" placeholder="john@acme.com" required>
                        </div>

                        <button type="submit">Add Lead</button>
                    </form>
                </div>

                <!-- Leads List -->
                <div class="leads-list">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h2>Lead Pipeline</h2>
                        <button style="background: transparent; border: 1px solid #262626; color: #a3a3a3; padding: 8px 16px;" onclick="exportLeads()">📥 Export CSV</button>
                    </div>
                    <div id="leads-container">
                        <p style="text-align: center; color: #737373; padding: 40px;">No leads yet. Add your first lead to get started!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Billing View -->
    <div id="billing" class="view">
        <div class="container">
            <div class="billing-header">
                <div>
                    <h1>💳 Billing & Usage</h1>
                    <p style="color: #737373;">Manage your subscription and team</p>
                </div>
                <div class="toggle-switch">
                    <button class="toggle-option active" onclick="toggleBillingPeriod('monthly')">Monthly</button>
                    <button class="toggle-option" onclick="toggleBillingPeriod('annual')">
                        Annual
                        <span class="savings-badge">Save 20%</span>
                    </button>
                </div>
            </div>

            <!-- Current Plan & Usage -->
            <div class="current-plan-card">
                <div class="plan-header">
                    <div>
                        <span class="plan-badge">Current Plan</span>
                        <h2 style="color: #ffffff; font-size: 28px; margin-top: 12px; margin-bottom: 8px;">Growth Plan</h2>
                        <p style="color: #737373; font-size: 16px;">
                            <span id="current-plan-price" style="color: #3b82f6; font-weight: 700; font-size: 20px;">$149</span>
                            <span id="current-plan-period">/month</span>
                        </p>
                    </div>
                    <button style="background: transparent; border: 1px solid #262626; color: #a3a3a3;">Cancel Plan</button>
                </div>

                <div class="usage-bars">
                    <div class="usage-item">
                        <label>
                            <span>API Calls</span>
                            <span><strong style="color: #ffffff;">67,340</strong> / 100,000</span>
                        </label>
                        <div class="usage-bar">
                            <div class="usage-fill normal" style="width: 67%"></div>
                        </div>
                    </div>

                    <div class="usage-item">
                        <label>
                            <span>Team Members</span>
                            <span><strong style="color: #ffffff;">7</strong> / 10</span>
                        </label>
                        <div class="usage-bar">
                            <div class="usage-fill normal" style="width: 70%"></div>
                        </div>
                    </div>

                    <div class="usage-item">
                        <label>
                            <span>Data Retention</span>
                            <span><strong style="color: #ffffff;">45</strong> / 90 days</span>
                        </label>
                        <div class="usage-bar">
                            <div class="usage-fill normal" style="width: 50%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Plan Comparison -->
            <h2 style="margin-bottom: 20px;">Available Plans</h2>
            <div class="plans-comparison">
                <div class="plan-option" onclick="selectPlan('starter')">
                    <div class="plan-name-billing">Starter</div>
                    <div class="plan-price-billing" data-monthly="49" data-annual="39">$49</div>
                    <div class="plan-period-billing">/month</div>
                    <ul class="plan-features-billing">
                        <li>Up to 10K API calls/mo</li>
                        <li>3 team members</li>
                        <li>7-day data retention</li>
                        <li>Email support</li>
                        <li>Basic analytics</li>
                    </ul>
                    <button style="width: 100%;">Downgrade</button>
                </div>

                <div class="plan-option recommended current">
                    <div class="recommended-badge">Most Popular</div>
                    <div class="plan-name-billing">Growth</div>
                    <div class="plan-price-billing" data-monthly="149" data-annual="119">$149</div>
                    <div class="plan-period-billing">/month</div>
                    <ul class="plan-features-billing">
                        <li>Up to 100K API calls/mo</li>
                        <li>10 team members</li>
                        <li>90-day data retention</li>
                        <li>Priority support</li>
                        <li>Advanced analytics</li>
                        <li>Custom dashboards</li>
                    </ul>
                    <button style="background: #10b981; width: 100%;">Current Plan</button>
                </div>

                <div class="plan-option" onclick="selectPlan('enterprise')">
                    <div class="plan-name-billing">Enterprise</div>
                    <div class="plan-price-billing" data-monthly="499" data-annual="399">$499</div>
                    <div class="plan-period-billing">/month</div>
                    <ul class="plan-features-billing">
                        <li>Unlimited API calls</li>
                        <li>Unlimited team members</li>
                        <li>Unlimited data retention</li>
                        <li>24/7 phone support</li>
                        <li>Enterprise analytics</li>
                        <li>Custom integrations</li>
                        <li>Dedicated account manager</li>
                    </ul>
                    <button style="width: 100%;">Upgrade</button>
                </div>
            </div>

            <!-- Add Team Members -->
            <div class="team-members-section">
                <h2 style="margin-bottom: 12px;">👥 Add Team Members</h2>
                <p style="color: #737373; margin-bottom: 20px;">Each additional seat is $15/month</p>

                <div class="member-controls">
                    <div class="member-counter">
                        <button class="counter-btn" onclick="updateMembers(-1)">−</button>
                        <span class="counter-value" id="member-count">7</span>
                        <button class="counter-btn" onclick="updateMembers(1)">+</button>
                    </div>
                    <span style="color: #737373;">team members</span>
                </div>

                <div style="background: #0a0a0a; border: 1px solid #262626; border-radius: 8px; padding: 20px; margin-top: 20px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                        <span style="color: #a3a3a3;">Base Plan (Growth)</span>
                        <span style="color: #ffffff; font-weight: 600;" id="base-price">$149</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                        <span style="color: #a3a3a3;">Additional Seats (<span id="extra-seats">0</span> × $15)</span>
                        <span style="color: #ffffff; font-weight: 600;" id="seats-price">$0</span>
                    </div>
                    <div style="border-top: 1px solid #262626; padding-top: 12px; margin-top: 12px; display: flex; justify-content: space-between;">
                        <span style="color: #ffffff; font-weight: 700; font-size: 18px;">Total Monthly</span>
                        <span style="color: #3b82f6; font-weight: 700; font-size: 24px;" id="total-price">$149</span>
                    </div>
                </div>
            </div>

            <!-- Usage-Based Pricing Calculator -->
            <div class="calculator-section">
                <h2 style="margin-bottom: 20px;">📊 Usage-Based Pricing Calculator</h2>
                <p style="color: #737373; margin-bottom: 24px;">Estimate your costs based on projected usage</p>

                <div class="calculator-inputs">
                    <div class="form-group">
                        <label>API Calls per Month</label>
                        <input type="number" id="calc-api-calls" value="50000" min="0" oninput="calculateUsage()">
                    </div>

                    <div class="form-group">
                        <label>Team Members</label>
                        <input type="number" id="calc-team-members" value="5" min="1" oninput="calculateUsage()">
                    </div>

                    <div class="form-group">
                        <label>Data Retention (days)</label>
                        <select id="calc-retention" onchange="calculateUsage()">
                            <option value="7">7 days</option>
                            <option value="30">30 days</option>
                            <option value="90" selected>90 days</option>
                            <option value="365">365 days</option>
                            <option value="unlimited">Unlimited</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Support Level</label>
                        <select id="calc-support" onchange="calculateUsage()">
                            <option value="email">Email Support</option>
                            <option value="priority" selected>Priority Support</option>
                            <option value="phone">24/7 Phone Support</option>
                        </select>
                    </div>
                </div>

                <div class="calculator-result">
                    <div class="result-label">Recommended Plan & Pricing</div>
                    <div class="result-value" id="calc-result-price">$149</div>
                    <div class="result-breakdown" id="calc-result-plan">Growth Plan - Perfect for your needs</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Content Planner View -->
    <div id="content" class="view">
        <div class="container">
            <h1>📝 Content Marketing Planner</h1>
            <p style="color: #737373; margin-bottom: 30px;">Plan, schedule, and track your content strategy</p>

            <!-- Performance Metrics -->
            <div class="metrics-grid-content">
                <div class="metric-card-small">
                    <div class="metric-label-small">Total Content</div>
                    <div class="metric-value-small">24</div>
                </div>
                <div class="metric-card-small">
                    <div class="metric-label-small">Avg Engagement</div>
                    <div class="metric-value-small">8.4%</div>
                </div>
                <div class="metric-card-small">
                    <div class="metric-label-small">Total Views</div>
                    <div class="metric-value-small">45.2K</div>
                </div>
                <div class="metric-card-small">
                    <div class="metric-label-small">SEO Ranking</div>
                    <div class="metric-value-small" style="color: #10b981;">↑ 12</div>
                </div>
            </div>

            <div class="content-layout">
                <!-- Calendar -->
                <div class="calendar-section">
                    <div class="calendar-header">
                        <h2>Content Calendar</h2>
                        <div class="calendar-nav">
                            <button onclick="changeMonth(-1)">‹</button>
                            <button id="current-month" style="min-width: 120px;">January 2025</button>
                            <button onclick="changeMonth(1)">›</button>
                        </div>
                    </div>

                    <div class="calendar-grid" id="calendar-grid">
                        <!-- Calendar will be generated here -->
                    </div>

                    <div style="display: flex; gap: 16px; margin-top: 20px; flex-wrap: wrap;">
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <div style="width: 12px; height: 12px; background: #3b82f6; border-radius: 3px;"></div>
                            <span style="color: #737373; font-size: 13px;">Blog Post</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <div style="width: 12px; height: 12px; background: #10b981; border-radius: 3px;"></div>
                            <span style="color: #737373; font-size: 13px;">Social Media</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <div style="width: 12px; height: 12px; background: #f59e0b; border-radius: 3px;"></div>
                            <span style="color: #737373; font-size: 13px;">Video</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <div style="width: 12px; height: 12px; background: #8b5cf6; border-radius: 3px;"></div>
                            <span style="color: #737373; font-size: 13px;">Email</span>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div class="sidebar-section">
                    <!-- SEO Keywords -->
                    <div class="widget">
                        <h3>🎯 SEO Keywords</h3>
                        <div class="keyword-list">
                            <div class="keyword-item">
                                <div class="keyword-info">
                                    <div class="keyword-name">SaaS analytics</div>
                                    <div class="keyword-volume">8.2K searches/mo</div>
                                </div>
                                <div class="keyword-rank up">
                                    #3 <span style="font-size: 12px;">↑2</span>
                                </div>
                            </div>
                            <div class="keyword-item">
                                <div class="keyword-info">
                                    <div class="keyword-name">Customer metrics</div>
                                    <div class="keyword-volume">12.5K searches/mo</div>
                                </div>
                                <div class="keyword-rank up">
                                    #7 <span style="font-size: 12px;">↑5</span>
                                </div>
                            </div>
                            <div class="keyword-item">
                                <div class="keyword-info">
                                    <div class="keyword-name">Startup dashboard</div>
                                    <div class="keyword-volume">6.8K searches/mo</div>
                                </div>
                                <div class="keyword-rank down">
                                    #15 <span style="font-size: 12px;">↓3</span>
                                </div>
                            </div>
                        </div>
                        <button style="width: 100%; margin-top: 12px; background: transparent; border: 1px solid #262626; color: #a3a3a3;" onclick="alert('Track new keywords:\n• Business intelligence\n• Revenue tracking\n• Lead scoring')">+ Track New</button>
                    </div>

                    <!-- Social Scheduler -->
                    <div class="widget">
                        <h3>📱 Schedule Post</h3>
                        <div class="social-post-form">
                            <div class="platform-selector">
                                <button class="platform-btn active" onclick="selectPlatform(event, 'twitter')">𝕏</button>
                                <button class="platform-btn" onclick="selectPlatform(event, 'linkedin')">in</button>
                                <button class="platform-btn" onclick="selectPlatform(event, 'facebook')">f</button>
                            </div>
                            <textarea id="post-content" placeholder="What's on your mind?" oninput="updateCharCount()"></textarea>
                            <div class="char-count"><span id="char-count">0</span> / 280</div>
                            <input type="datetime-local" id="post-schedule" style="margin-bottom: 0;">
                            <button onclick="schedulePost()">Schedule Post</button>
                        </div>
                    </div>

                    <!-- AI Ideas -->
                    <div class="widget">
                        <h3>✨ AI Content Ideas</h3>
                        <div id="ideas-container">
                            <div class="idea-card" onclick="useIdea('How to Calculate Customer LTV for SaaS')">
                                <div class="idea-title">How to Calculate Customer LTV for SaaS</div>
                                <div class="idea-description">Blog • 8 min read • High SEO potential</div>
                            </div>
                            <div class="idea-card" onclick="useIdea('5 Metrics Every Founder Should Track')">
                                <div class="idea-title">5 Metrics Every Founder Should Track</div>
                                <div class="idea-description">Social Thread • 280 words • Viral potential</div>
                            </div>
                            <div class="idea-card" onclick="useIdea('Dashboard Design Best Practices')">
                                <div class="idea-title">Dashboard Design Best Practices</div>
                                <div class="idea-description">Video • 5 min • Tutorial format</div>
                            </div>
                        </div>
                        <button style="width: 100%; margin-top: 12px;" onclick="generateIdeas()">🔄 Generate More</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Affiliate Dashboard View -->
    <div id="affiliate" class="view">
        <div class="container">
            <h1>🤝 Affiliate Dashboard</h1>
            <p style="color: #737373; margin-bottom: 30px;">Track your referrals, commissions, and rankings</p>

            <!-- Referral Link -->
            <div class="referral-link-card">
                <h2>Your Unique Referral Link</h2>
                <p>Share this link and earn 20% commission on all sales</p>
                <div class="link-input-group">
                    <input type="text" class="link-input" id="referral-link" readonly value="https://saastoolkit.com/ref/JOHN2024">
                    <button class="copy-btn" onclick="copyReferralLink()">📋 Copy Link</button>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card-affiliate">
                    <div class="stat-icon">👥</div>
                    <div class="stat-number" id="total-referrals">47</div>
                    <div class="stat-label-affiliate">Total Referrals</div>
                </div>
                <div class="stat-card-affiliate">
                    <div class="stat-icon">✅</div>
                    <div class="stat-number" id="converted-referrals">23</div>
                    <div class="stat-label-affiliate">Converted</div>
                </div>
                <div class="stat-card-affiliate">
                    <div class="stat-icon">💰</div>
                    <div class="stat-number" id="total-earnings">$4,580</div>
                    <div class="stat-label-affiliate">Total Earned</div>
                </div>
            </div>

            <div class="affiliate-layout">
                <!-- Main Content -->
                <div>
                    <!-- Commission Calculator -->
                    <div class="commission-calculator-card">
                        <h2 style="margin-bottom: 12px;">💵 Commission Calculator</h2>
                        <p style="color: #737373; margin-bottom: 20px;">Calculate potential earnings based on tier</p>

                        <div class="tier-selector">
                            <div class="tier-option active" onclick="selectTier(event, 20)">
                                <div class="tier-name">Bronze</div>
                                <div class="tier-rate">20%</div>
                            </div>
                            <div class="tier-option" onclick="selectTier(event, 25)">
                                <div class="tier-name">Silver</div>
                                <div class="tier-rate">25%</div>
                            </div>
                            <div class="tier-option" onclick="selectTier(event, 30)">
                                <div class="tier-name">Gold</div>
                                <div class="tier-rate">30%</div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Expected Monthly Sales</label>
                            <input type="number" id="calc-sales" value="10" min="1" oninput="calculateCommission()">
                        </div>

                        <div class="form-group">
                            <label>Average Deal Value</label>
                            <select id="calc-plan-value" onchange="calculateCommission()">
                                <option value="49">Starter - $49/mo</option>
                                <option value="149" selected>Growth - $149/mo</option>
                                <option value="499">Enterprise - $499/mo</option>
                            </select>
                        </div>

                        <div style="background: linear-gradient(135deg, #3b82f6, #8b5cf6); border-radius: 12px; padding: 24px; margin-top: 20px; text-align: center;">
                            <div style="color: rgba(255, 255, 255, 0.8); font-size: 14px; font-weight: 600; margin-bottom: 8px;">ESTIMATED MONTHLY EARNINGS</div>
                            <div style="color: white; font-size: 42px; font-weight: 700;" id="estimated-earnings">$298</div>
                            <div style="color: rgba(255, 255, 255, 0.7); font-size: 13px; margin-top: 8px;">Based on 10 sales at 20% commission</div>
                        </div>
                    </div>

                    <!-- Conversion Timeline -->
                    <div class="conversion-timeline">
                        <h2 style="margin-bottom: 20px;">📈 Recent Conversions</h2>

                        <div class="timeline-item">
                            <div class="timeline-icon">💼</div>
                            <div class="timeline-content">
                                <div class="timeline-title">Sarah Chen converted to Growth Plan</div>
                                <div class="timeline-meta">2 hours ago • Growth Plan ($149/mo)</div>
                            </div>
                            <div class="timeline-amount">+$30</div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-icon">🎯</div>
                            <div class="timeline-content">
                                <div class="timeline-title">TechStart Inc upgraded to Enterprise</div>
                                <div class="timeline-meta">5 hours ago • Enterprise Plan ($499/mo)</div>
                            </div>
                            <div class="timeline-amount">+$100</div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-icon">⭐</div>
                            <div class="timeline-content">
                                <div class="timeline-title">Michael Rodriguez signed up</div>
                                <div class="timeline-meta">1 day ago • Starter Plan ($49/mo)</div>
                            </div>
                            <div class="timeline-amount">+$10</div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-icon">🚀</div>
                            <div class="timeline-content">
                                <div class="timeline-title">DataFlow Solutions converted</div>
                                <div class="timeline-meta">2 days ago • Growth Plan ($149/mo)</div>
                            </div>
                            <div class="timeline-amount">+$30</div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-icon">💡</div>
                            <div class="timeline-content">
                                <div class="timeline-title">Emma Watson joined as Growth</div>
                                <div class="timeline-meta">3 days ago • Growth Plan ($149/mo)</div>
                            </div>
                            <div class="timeline-amount">+$30</div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <!-- Payout Management -->
                    <div class="payout-card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <h2 style="margin: 0;">💸 Next Payout</h2>
                            <span class="payout-status pending">Pending</span>
                        </div>

                        <div class="payout-amount">$1,240</div>
                        <p style="color: #737373; font-size: 14px; margin-bottom: 20px;">Scheduled for Jan 15, 2025</p>

                        <div class="payout-details">
                            <div class="payout-detail-row">
                                <span style="color: #a3a3a3;">Current Balance</span>
                                <span style="color: #ffffff; font-weight: 600;">$1,240</span>
                            </div>
                            <div class="payout-detail-row">
                                <span style="color: #a3a3a3;">Minimum Threshold</span>
                                <span style="color: #ffffff; font-weight: 600;">$100</span>
                            </div>
                            <div class="payout-detail-row">
                                <span style="color: #a3a3a3;">Payment Method</span>
                                <span style="color: #ffffff; font-weight: 600;">PayPal</span>
                            </div>
                        </div>

                        <button style="width: 100%; margin-top: 16px;" onclick="requestPayout()">Request Early Payout</button>
                        <button style="width: 100%; margin-top: 8px; background: transparent; border: 1px solid #262626; color: #a3a3a3;" onclick="viewPayoutHistory()">View History</button>
                    </div>

                    <!-- Leaderboard -->
                    <div class="leaderboard-card">
                        <h2 style="margin-bottom: 20px;">🏆 Top Affiliates</h2>

                        <div class="leaderboard-item">
                            <div class="rank-badge rank-1">1</div>
                            <div class="affiliate-info">
                                <div class="affiliate-name">Alex Morgan</div>
                                <div class="affiliate-stats">156 referrals • 89 converted</div>
                            </div>
                            <div class="affiliate-earnings">$13,340</div>
                        </div>

                        <div class="leaderboard-item">
                            <div class="rank-badge rank-2">2</div>
                            <div class="affiliate-info">
                                <div class="affiliate-name">Jordan Lee</div>
                                <div class="affiliate-stats">124 referrals • 67 converted</div>
                            </div>
                            <div class="affiliate-earnings">$10,030</div>
                        </div>

                        <div class="leaderboard-item">
                            <div class="rank-badge rank-3">3</div>
                            <div class="affiliate-info">
                                <div class="affiliate-name">Taylor Swift</div>
                                <div class="affiliate-stats">98 referrals • 54 converted</div>
                            </div>
                            <div class="affiliate-earnings">$8,100</div>
                        </div>

                        <div class="leaderboard-item" style="border: 2px solid #3b82f6;">
                            <div class="rank-badge rank-other">7</div>
                            <div class="affiliate-info">
                                <div class="affiliate-name">You (John Smith)</div>
                                <div class="affiliate-stats">47 referrals • 23 converted</div>
                            </div>
                            <div class="affiliate-earnings">$4,580</div>
                        </div>

                        <div class="leaderboard-item">
                            <div class="rank-badge rank-other">8</div>
                            <div class="affiliate-info">
                                <div class="affiliate-name">Chris Evans</div>
                                <div class="affiliate-stats">42 referrals • 21 converted</div>
                            </div>
                            <div class="affiliate-earnings">$4,200</div>
                        </div>

                        <p style="text-align: center; color: #737373; font-size: 13px; margin-top: 16px;">
                            💪 Refer 6 more customers to reach the Top 5!
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Customer Health View -->
    <div id="health" class="view">
        <div class="container">
            <h1>❤️ Customer Health Score</h1>
            <p style="color: #737373; margin-bottom: 30px;">Monitor customer engagement and prevent churn</p>

            <!-- Overview Stats -->
            <div class="metrics-grid-content">
                <div class="metric-card-small">
                    <div class="metric-label-small">Healthy</div>
                    <div class="metric-value-small" style="color: #10b981;">68%</div>
                </div>
                <div class="metric-card-small">
                    <div class="metric-label-small">At Risk</div>
                    <div class="metric-value-small" style="color: #f59e0b;">24%</div>
                </div>
                <div class="metric-card-small">
                    <div class="metric-label-small">Critical</div>
                    <div class="metric-value-small" style="color: #ef4444;">8%</div>
                </div>
                <div class="metric-card-small">
                    <div class="metric-label-small">Avg NPS</div>
                    <div class="metric-value-small">+42</div>
                </div>
            </div>

            <div class="health-layout">
                <!-- Customer List -->
                <div>
                    <div class="customer-list">
                        <h2 style="margin-bottom: 20px;">Customer Health Scores</h2>

                        <div class="customer-item" onclick="viewCustomer('Acme Corp')">
                            <div class="health-score-badge critical">23</div>
                            <div class="customer-details">
                                <h4>Acme Corp</h4>
                                <div class="customer-meta">Enterprise • $499/mo • 156 employees</div>
                                <div class="usage-indicator">
                                    <span style="color: #ef4444;">15% usage</span>
                                    <div class="usage-bar-small">
                                        <div class="usage-bar-fill" style="width: 15%; background: #ef4444;"></div>
                                    </div>
                                    <span style="color: #737373;">Last login: 14 days ago</span>
                                </div>
                            </div>
                            <div class="risk-indicators">
                                <span class="risk-badge high">High Risk</span>
                            </div>
                        </div>

                        <div class="customer-item" onclick="viewCustomer('TechFlow')">
                            <div class="health-score-badge at-risk">58</div>
                            <div class="customer-details">
                                <h4>TechFlow Solutions</h4>
                                <div class="customer-meta">Growth • $149/mo • 45 employees</div>
                                <div class="usage-indicator">
                                    <span style="color: #f59e0b;">48% usage</span>
                                    <div class="usage-bar-small">
                                        <div class="usage-bar-fill" style="width: 48%; background: #f59e0b;"></div>
                                    </div>
                                    <span style="color: #737373;">Last login: 3 days ago</span>
                                </div>
                            </div>
                            <div class="risk-indicators">
                                <span class="risk-badge medium">Medium Risk</span>
                            </div>
                        </div>

                        <div class="customer-item" onclick="viewCustomer('DataStream')">
                            <div class="health-score-badge healthy">87</div>
                            <div class="customer-details">
                                <h4>DataStream Inc</h4>
                                <div class="customer-meta">Growth • $149/mo • 78 employees</div>
                                <div class="usage-indicator">
                                    <span style="color: #10b981;">92% usage</span>
                                    <div class="usage-bar-small">
                                        <div class="usage-bar-fill" style="width: 92%; background: #10b981;"></div>
                                    </div>
                                    <span style="color: #737373;">Last login: 2 hours ago</span>
                                </div>
                            </div>
                            <div class="risk-indicators">
                                <span class="risk-badge low">Low Risk</span>
                            </div>
                        </div>

                        <div class="customer-item" onclick="viewCustomer('CloudBase')">
                            <div class="health-score-badge healthy">94</div>
                            <div class="customer-details">
                                <h4>CloudBase Systems</h4>
                                <div class="customer-meta">Enterprise • $499/mo • 234 employees</div>
                                <div class="usage-indicator">
                                    <span style="color: #10b981;">98% usage</span>
                                    <div class="usage-bar-small">
                                        <div class="usage-bar-fill" style="width: 98%; background: #10b981;"></div>
                                    </div>
                                    <span style="color: #737373;">Last login: 1 hour ago</span>
                                </div>
                            </div>
                            <div class="risk-indicators">
                                <span class="risk-badge low">Low Risk</span>
                            </div>
                        </div>

                        <div class="customer-item" onclick="viewCustomer('StartupHub')">
                            <div class="health-score-badge at-risk">52</div>
                            <div class="customer-details">
                                <h4>StartupHub Co</h4>
                                <div class="customer-meta">Starter • $49/mo • 12 employees</div>
                                <div class="usage-indicator">
                                    <span style="color: #f59e0b;">42% usage</span>
                                    <div class="usage-bar-small">
                                        <div class="usage-bar-fill" style="width: 42%; background: #f59e0b;"></div>
                                    </div>
                                    <span style="color: #737373;">Last login: 5 days ago</span>
                                </div>
                            </div>
                            <div class="risk-indicators">
                                <span class="risk-badge medium">Medium Risk</span>
                            </div>
                        </div>
                    </div>

                    <!-- Journey Timeline -->
                    <div class="journey-timeline">
                        <h2 style="margin-bottom: 20px;">Customer Journey: Acme Corp</h2>

                        <div class="journey-item">
                            <div class="journey-icon-circle success">✓</div>
                            <div class="journey-content">
                                <div class="journey-event-title">Account Created</div>
                                <div class="journey-event-time">45 days ago • Signed up for Enterprise plan</div>
                            </div>
                        </div>

                        <div class="journey-item">
                            <div class="journey-icon-circle success">🚀</div>
                            <div class="journey-content">
                                <div class="journey-event-title">Onboarding Completed</div>
                                <div class="journey-event-time">42 days ago • All setup tasks finished</div>
                            </div>
                        </div>

                        <div class="journey-item">
                            <div class="journey-icon-circle success">📊</div>
                            <div class="journey-content">
                                <div class="journey-event-title">First Report Generated</div>
                                <div class="journey-event-time">40 days ago • Created analytics dashboard</div>
                            </div>
                        </div>

                        <div class="journey-item">
                            <div class="journey-icon-circle warning">⚠️</div>
                            <div class="journey-content">
                                <div class="journey-event-title">Usage Declined</div>
                                <div class="journey-event-time">21 days ago • Daily active users dropped 40%</div>
                            </div>
                        </div>

                        <div class="journey-item">
                            <div class="journey-icon-circle warning">📧</div>
                            <div class="journey-content">
                                <div class="journey-event-title">Support Ticket Opened</div>
                                <div class="journey-event-time">14 days ago • Reported integration issues</div>
                            </div>
                        </div>

                        <div class="journey-item">
                            <div class="journey-icon-circle neutral">💬</div>
                            <div class="journey-content">
                                <div class="journey-event-title">NPS Survey Sent</div>
                                <div class="journey-event-time">7 days ago • Awaiting response</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <!-- Alerts -->
                    <div class="alert-card">
                        <h3 style="margin-bottom: 16px;">🔔 Automated Alerts</h3>

                        <div class="alert-item critical">
                            <div class="alert-icon-badge">🚨</div>
                            <div class="alert-text">
                                <div class="alert-title">Churn Risk Detected</div>
                                <div class="alert-description">Acme Corp hasn't logged in for 14 days</div>
                            </div>
                        </div>

                        <div class="alert-item warning">
                            <div class="alert-icon-badge">⚠️</div>
                            <div class="alert-text">
                                <div class="alert-title">Low Engagement</div>
                                <div class="alert-description">TechFlow usage dropped below 50%</div>
                            </div>
                        </div>

                        <div class="alert-item info">
                            <div class="alert-icon-badge">💡</div>
                            <div class="alert-text">
                                <div class="alert-title">Upsell Opportunity</div>
                                <div class="alert-description">DataStream hitting plan limits</div>
                            </div>
                        </div>

                        <button style="width: 100%; margin-top: 12px;" onclick="configureAlerts()">Configure Alerts</button>
                    </div>

                    <!-- NPS Builder -->
                    <div class="nps-builder">
                        <h3 style="margin-bottom: 12px;">📊 NPS Survey Builder</h3>
                        <p style="color: #737373; font-size: 14px; margin-bottom: 16px;">How likely would you recommend us?</p>

                        <div class="nps-scale">
                            <div class="nps-number detractor">0</div>
                            <div class="nps-number detractor">1</div>
                            <div class="nps-number detractor">2</div>
                            <div class="nps-number detractor">3</div>
                            <div class="nps-number detractor">4</div>
                            <div class="nps-number detractor">5</div>
                            <div class="nps-number detractor">6</div>
                            <div class="nps-number passive">7</div>
                            <div class="nps-number passive">8</div>
                            <div class="nps-number promoter">9</div>
                            <div class="nps-number promoter">10</div>
                        </div>

                        <div style="display: flex; justify-content: space-between; color: #737373; font-size: 12px; margin-bottom: 20px;">
                            <span>Not likely</span>
                            <span>Very likely</span>
                        </div>

                        <div class="nps-result">
                            <div style="color: rgba(255, 255, 255, 0.8); font-size: 14px; font-weight: 600;">YOUR NPS SCORE</div>
                            <div class="nps-score-large">+42</div>
                            <div style="color: rgba(255, 255, 255, 0.7); font-size: 13px;">62% Promoters • 18% Passive • 20% Detractors</div>
                        </div>

                        <button style="width: 100%; margin-top: 16px;" onclick="sendNPSSurvey()">Send to Customers</button>
                    </div>

                    <!-- Usage Metrics -->
                    <div class="widget">
                        <h3>📈 Usage Metrics</h3>
                        <div style="display: grid; gap: 12px; margin-top: 16px;">
                            <div style="display: flex; justify-content: space-between; padding: 12px; background: #0a0a0a; border-radius: 8px;">
                                <span style="color: #a3a3a3;">Daily Active Users</span>
                                <span style="color: #ffffff; font-weight: 600;">1,247</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 12px; background: #0a0a0a; border-radius: 8px;">
                                <span style="color: #a3a3a3;">Avg Session Time</span>
                                <span style="color: #ffffff; font-weight: 600;">18m 42s</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 12px; background: #0a0a0a; border-radius: 8px;">
                                <span style="color: #a3a3a3;">Feature Adoption</span>
                                <span style="color: #ffffff; font-weight: 600;">73%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 12px; background: #0a0a0a; border-radius: 8px;">
                                <span style="color: #a3a3a3;">Support Tickets</span>
                                <span style="color: #ffffff; font-weight: 600;">12 open</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // View switching
        function switchView(viewName) {
            // Hide all views
            document.querySelectorAll('.view').forEach(view => {
                view.classList.remove('active');
            });

            // Show selected view
            document.getElementById(viewName).classList.add('active');

            // Update nav tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Initialize view if needed
            if (viewName === 'dashboard' && !window.dashboardInitialized) {
                initDashboard();
                window.dashboardInitialized = true;
            }
        }

        // Dashboard initialization
        function initDashboard() {
            const mrrData = [15000, 18500, 21200, 23800, 26500, 29300, 32100, 34900, 37800, 40600, 36600, 45000];
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

            // MRR Chart
            const mrrCtx = document.getElementById('mrrChart').getContext('2d');
            new Chart(mrrCtx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [{
                        label: 'MRR',
                        data: mrrData,
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { color: '#262626' },
                            ticks: {
                                color: '#737373',
                                callback: value => '$' + (value / 1000) + 'K'
                            }
                        },
                        x: {
                            grid: { display: false },
                            ticks: { color: '#737373' }
                        }
                    }
                }
            });

            // Revenue Chart
            const revCtx = document.getElementById('revenueChart').getContext('2d');
            new Chart(revCtx, {
                type: 'doughnut',
                data: {
                    labels: ['New MRR', 'Expansion', 'Churned'],
                    datasets: [{
                        data: [8400, 2500, 2500],
                        backgroundColor: ['#3b82f6', '#10b981', '#ef4444'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { color: '#a3a3a3', padding: 20 }
                        }
                    }
                }
            });
        }

        // Lead Scorer Database
        const leadDB = {
            leads: [],

            calculateScore(lead) {
                const scores = {
                    jobTitle: { executive: 30, director: 20, manager: 10, other: 5 },
                    companySize: { enterprise: 30, large: 25, medium: 20, small: 10, startup: 5 },
                    industry: { saas: 25, finance: 20, healthcare: 15, ecommerce: 15, other: 5 },
                    engagement: { high: 15, medium: 10, low: 5 }
                };

                return scores.jobTitle[lead.jobTitle] +
                       scores.companySize[lead.companySize] +
                       scores.industry[lead.industry] +
                       scores.engagement[lead.engagement];
            },

            getCategory(score) {
                if (score >= 80) return 'hot';
                if (score >= 60) return 'warm';
                return 'cold';
            },

            addLead(lead) {
                const score = this.calculateScore(lead);
                const category = this.getCategory(score);

                this.leads.push({
                    id: Date.now(),
                    ...lead,
                    score,
                    category
                });

                this.updateUI();
            },

            deleteLead(id) {
                this.leads = this.leads.filter(l => l.id !== id);
                this.updateUI();
            },

            updateUI() {
                // Update stats
                const hot = this.leads.filter(l => l.category === 'hot').length;
                const warm = this.leads.filter(l => l.category === 'warm').length;
                const cold = this.leads.filter(l => l.category === 'cold').length;

                document.getElementById('total-leads').textContent = this.leads.length;
                document.getElementById('hot-leads').textContent = hot;
                document.getElementById('warm-leads').textContent = warm;
                document.getElementById('cold-leads').textContent = cold;

                // Render leads
                const container = document.getElementById('leads-container');
                if (this.leads.length === 0) {
                    container.innerHTML = '<p style="text-align: center; color: #737373; padding: 40px;">No leads yet. Add your first lead to get started!</p>';
                    return;
                }

                const sorted = [...this.leads].sort((a, b) => b.score - a.score);

                container.innerHTML = sorted.map(lead => `
                    <div class="lead-card">
                        <div class="lead-score ${lead.category}">${lead.score}</div>
                        <div class="lead-info">
                            <h3>${lead.contactName} @ ${lead.companyName}</h3>
                            <div class="lead-details">${lead.email}</div>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            ${lead.category === 'hot' ? '<button class="book-demo-btn" onclick="bookDemo(\'' + lead.contactName + '\')">📅 Book Demo</button>' : ''}
                            <button style="background: transparent; border: 1px solid #262626; color: #737373; padding: 8px;" onclick="leadDB.deleteLead(${lead.id})">🗑️</button>
                        </div>
                    </div>
                `).join('');
            }
        };

        // Add lead form
        function addLead(event) {
            event.preventDefault();

            const lead = {
                contactName: document.getElementById('contact-name').value.trim(),
                companyName: document.getElementById('company-name').value.trim(),
                jobTitle: document.getElementById('job-title').value,
                companySize: document.getElementById('company-size').value,
                industry: document.getElementById('industry').value,
                engagement: document.getElementById('engagement').value,
                email: document.getElementById('email').value.trim()
            };

            leadDB.addLead(lead);
            event.target.reset();

            const lastLead = leadDB.leads[leadDB.leads.length - 1];
            alert(`✅ Lead added!\n\nScore: ${lastLead.score}/100\nCategory: ${lastLead.category.toUpperCase()}`);
        }

        // Book demo
        function bookDemo(name) {
            alert(`🎉 Demo booked with ${name}!\n\nA calendar invite has been sent.`);
        }

        // Export leads
        function exportLeads() {
            const qualified = leadDB.leads.filter(l => l.score >= 60);

            if (qualified.length === 0) {
                alert('No qualified leads (score 60+) to export');
                return;
            }

            const csv = 'Name,Company,Email,Score,Category\n' +
                qualified.map(l => `"${l.contactName}","${l.companyName}","${l.email}",${l.score},${l.category}`).join('\n');

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'qualified-leads.csv';
            a.click();
            URL.revokeObjectURL(url);

            alert(`✅ Exported ${qualified.length} qualified leads`);
        }

        // Initialize dashboard on load
        window.addEventListener('load', () => {
            initDashboard();
            window.dashboardInitialized = true;
            calculateUsage();
        });

        // Billing functionality
        let billingPeriod = 'monthly';
        let currentMembers = 7;
        const includedSeats = 10; // Growth plan includes 10 seats

        function toggleBillingPeriod(period) {
            billingPeriod = period;

            // Update toggle buttons
            document.querySelectorAll('.toggle-option').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.toggle-option').classList.add('active');

            // Update all plan prices
            document.querySelectorAll('.plan-price-billing').forEach(priceEl => {
                const monthly = priceEl.getAttribute('data-monthly');
                const annual = priceEl.getAttribute('data-annual');
                priceEl.textContent = '$' + (period === 'monthly' ? monthly : annual);
            });

            // Update period labels
            document.querySelectorAll('.plan-period-billing').forEach(el => {
                el.textContent = period === 'monthly' ? '/month' : '/year';
            });

            // Update current plan display
            const currentPrice = period === 'monthly' ? 149 : 119;
            document.getElementById('current-plan-price').textContent = '$' + currentPrice;
            document.getElementById('current-plan-period').textContent = period === 'monthly' ? '/month' : '/year';
            document.getElementById('base-price').textContent = '$' + currentPrice;

            updateMemberPricing();
        }

        function selectPlan(planName) {
            alert(`You're about to ${planName === 'starter' ? 'downgrade' : 'upgrade'} to the ${planName.charAt(0).toUpperCase() + planName.slice(1)} plan.\n\nYour plan will be updated immediately and you'll be charged pro-rata.`);
        }

        function updateMembers(change) {
            currentMembers = Math.max(1, currentMembers + change);
            document.getElementById('member-count').textContent = currentMembers;
            updateMemberPricing();
        }

        function updateMemberPricing() {
            const extraSeats = Math.max(0, currentMembers - includedSeats);
            const seatPrice = 15;
            const basePrice = billingPeriod === 'monthly' ? 149 : 119;
            const seatsTotal = extraSeats * seatPrice;
            const total = basePrice + seatsTotal;

            document.getElementById('extra-seats').textContent = extraSeats;
            document.getElementById('seats-price').textContent = '$' + seatsTotal;
            document.getElementById('total-price').textContent = '$' + total;
        }

        function calculateUsage() {
            const apiCalls = parseInt(document.getElementById('calc-api-calls').value) || 0;
            const teamMembers = parseInt(document.getElementById('calc-team-members').value) || 1;
            const retention = document.getElementById('calc-retention').value;
            const support = document.getElementById('calc-support').value;

            let recommendedPlan = 'starter';
            let price = 49;
            let description = 'Starter Plan - Great for small projects';

            // Determine plan based on API calls
            if (apiCalls > 100000 || retention === 'unlimited' || support === 'phone') {
                recommendedPlan = 'enterprise';
                price = 499;
                description = 'Enterprise Plan - Best for large organizations';
            } else if (apiCalls > 10000 || teamMembers > 3 || retention === '90' || retention === '365' || support === 'priority') {
                recommendedPlan = 'growth';
                price = 149;
                description = 'Growth Plan - Perfect for growing teams';
            }

            // Add team member costs if over included limit
            const planLimits = { starter: 3, growth: 10, enterprise: 999 };
            const extraMembers = Math.max(0, teamMembers - planLimits[recommendedPlan]);
            const memberCost = extraMembers * 15;
            const totalPrice = price + memberCost;

            document.getElementById('calc-result-price').textContent = '$' + totalPrice;
            document.getElementById('calc-result-plan').textContent = description +
                (memberCost > 0 ? ` + ${extraMembers} additional seats` : '');
        }

        // Content Planner functionality
        let currentDate = new Date();
        let selectedPlatform = 'twitter';

        const contentDB = {
            items: [
                { date: 5, type: 'blog', title: 'Q1 Review' },
                { date: 8, type: 'social', title: 'Launch Post' },
                { date: 12, type: 'video', title: 'Tutorial' },
                { date: 15, type: 'email', title: 'Newsletter' },
                { date: 18, type: 'social', title: 'Case Study' },
                { date: 22, type: 'blog', title: 'How-To Guide' },
                { date: 25, type: 'video', title: 'Demo' },
                { date: 28, type: 'social', title: 'Tips Thread' }
            ]
        };

        const aiIdeas = [
            { title: 'How to Calculate Customer LTV for SaaS', desc: 'Blog • 8 min read • High SEO potential' },
            { title: '5 Metrics Every Founder Should Track', desc: 'Social Thread • 280 words • Viral potential' },
            { title: 'Dashboard Design Best Practices', desc: 'Video • 5 min • Tutorial format' },
            { title: 'Building a Scalable Analytics Pipeline', desc: 'Blog • 12 min read • Technical deep-dive' },
            { title: 'Customer Retention Strategies That Work', desc: 'Email • 600 words • Action-oriented' },
            { title: 'SaaS Pricing Psychology Explained', desc: 'Social Post • Infographic • Share-worthy' },
            { title: 'From $0 to $10K MRR in 90 Days', desc: 'Blog • 15 min read • Case study format' },
            { title: 'The Art of Product-Led Growth', desc: 'Video • 8 min • Interview style' },
            { title: 'Data-Driven Decision Making Framework', desc: 'Blog • 10 min read • Framework + templates' }
        ];

        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();

            // Update month display
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'];
            document.getElementById('current-month').textContent = `${monthNames[month]} ${year}`;

            // Get first day of month and number of days
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const daysInPrevMonth = new Date(year, month, 0).getDate();

            const grid = document.getElementById('calendar-grid');
            grid.innerHTML = '';

            // Day headers
            const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            days.forEach(day => {
                const header = document.createElement('div');
                header.className = 'calendar-day-header';
                header.textContent = day;
                grid.appendChild(header);
            });

            // Previous month days
            for (let i = firstDay - 1; i >= 0; i--) {
                const day = document.createElement('div');
                day.className = 'calendar-day other-month';
                day.innerHTML = `<div class="day-number">${daysInPrevMonth - i}</div>`;
                grid.appendChild(day);
            }

            // Current month days
            const today = new Date();
            for (let date = 1; date <= daysInMonth; date++) {
                const day = document.createElement('div');
                day.className = 'calendar-day';

                if (year === today.getFullYear() && month === today.getMonth() && date === today.getDate()) {
                    day.classList.add('today');
                }

                let content = `<div class="day-number">${date}</div>`;

                // Add content items
                const items = contentDB.items.filter(item => item.date === date);
                items.forEach(item => {
                    content += `<div class="content-item ${item.type}">${item.title}</div>`;
                });

                day.innerHTML = content;
                day.onclick = () => addContentToDay(date);
                grid.appendChild(day);
            }

            // Next month days
            const totalCells = firstDay + daysInMonth;
            const remainingCells = 42 - totalCells; // 6 rows x 7 days
            for (let date = 1; date <= remainingCells; date++) {
                const day = document.createElement('div');
                day.className = 'calendar-day other-month';
                day.innerHTML = `<div class="day-number">${date}</div>`;
                grid.appendChild(day);
            }
        }

        function changeMonth(delta) {
            currentDate.setMonth(currentDate.getMonth() + delta);
            renderCalendar();
        }

        function addContentToDay(date) {
            const type = prompt('Content type?\n\n1. blog\n2. social\n3. video\n4. email', 'blog');
            if (!type) return;

            const title = prompt('Content title?', 'New Content');
            if (!title) return;

            contentDB.items.push({ date, type, title });
            renderCalendar();
        }

        function selectPlatform(event, platform) {
            selectedPlatform = platform;
            document.querySelectorAll('.platform-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update character limit based on platform
            const limits = { twitter: 280, linkedin: 3000, facebook: 63206 };
            document.querySelector('.char-count').innerHTML =
                `<span id="char-count">0</span> / ${limits[platform]}`;
        }

        function updateCharCount() {
            const content = document.getElementById('post-content').value;
            document.getElementById('char-count').textContent = content.length;
        }

        function schedulePost() {
            const content = document.getElementById('post-content').value;
            const datetime = document.getElementById('post-schedule').value;

            if (!content.trim()) {
                alert('Please write some content first!');
                return;
            }

            if (!datetime) {
                alert('Please select a date and time!');
                return;
            }

            const date = new Date(datetime);
            const platforms = { twitter: '𝕏', linkedin: 'LinkedIn', facebook: 'Facebook' };

            alert(`✅ Post scheduled!\n\nPlatform: ${platforms[selectedPlatform]}\nDate: ${date.toLocaleString()}\n\nYour post will be published automatically.`);

            // Reset form
            document.getElementById('post-content').value = '';
            document.getElementById('post-schedule').value = '';
            updateCharCount();
        }

        function useIdea(title) {
            alert(`📝 Using idea: "${title}"\n\nThis idea has been added to your content calendar for planning!`);
        }

        function generateIdeas() {
            // Shuffle and pick 3 random ideas
            const shuffled = [...aiIdeas].sort(() => Math.random() - 0.5);
            const selected = shuffled.slice(0, 3);

            const container = document.getElementById('ideas-container');
            container.innerHTML = selected.map(idea => `
                <div class="idea-card" onclick="useIdea('${idea.title}')">
                    <div class="idea-title">${idea.title}</div>
                    <div class="idea-description">${idea.desc}</div>
                </div>
            `).join('');
        }

        // Initialize calendar when content view is loaded
        document.addEventListener('DOMContentLoaded', () => {
            renderCalendar();
        });

        // Affiliate Dashboard functionality
        let selectedCommissionTier = 20;

        function copyReferralLink() {
            const linkInput = document.getElementById('referral-link');
            linkInput.select();
            document.execCommand('copy');

            alert('✅ Referral link copied to clipboard!\n\nShare it with your network to start earning commissions.');
        }

        function selectTier(event, rate) {
            selectedCommissionTier = rate;

            document.querySelectorAll('.tier-option').forEach(opt => {
                opt.classList.remove('active');
            });
            event.currentTarget.classList.add('active');

            calculateCommission();
        }

        function calculateCommission() {
            const sales = parseInt(document.getElementById('calc-sales').value) || 0;
            const planValue = parseInt(document.getElementById('calc-plan-value').value) || 0;
            const commission = (sales * planValue * selectedCommissionTier) / 100;

            document.getElementById('estimated-earnings').textContent = '$' + commission.toFixed(0);

            // Update description
            const tierNames = { 20: 'Bronze', 25: 'Silver', 30: 'Gold' };
            event.target.nextElementSibling.textContent =
                `Based on ${sales} sales at ${selectedCommissionTier}% commission (${tierNames[selectedCommissionTier]} tier)`;
        }

        function requestPayout() {
            alert('💰 Early Payout Request\n\nYour payout of $1,240 will be processed within 3-5 business days.\n\nYou\'ll receive a confirmation email shortly.');
        }

        function viewPayoutHistory() {
            alert('📊 Payout History\n\nRecent Payouts:\n\n• Dec 2024: $1,180 (Paid)\n• Nov 2024: $890 (Paid)\n• Oct 2024: $1,450 (Paid)\n• Sep 2024: $720 (Paid)\n\nTotal Lifetime Earnings: $4,580');
        }

        // Initialize commission calculator
        if (document.getElementById('calc-sales')) {
            calculateCommission();
        }

        // Customer Health functionality
        function viewCustomer(name) {
            alert(`👤 Customer Profile: ${name}\n\nOpening detailed customer view with:\n• Full health score breakdown\n• Usage analytics\n• Complete timeline\n• Communication history\n• Action recommendations`);
        }

        function configureAlerts() {
            alert('⚙️ Alert Configuration\n\nCustomize alerts for:\n\n• Churn risk thresholds\n• Inactivity periods\n• Usage decline percentages\n• NPS score changes\n• Support ticket patterns\n\nNotifications sent via:\n✓ Email\n✓ Slack\n✓ In-app alerts');
        }

        function sendNPSSurvey() {
            alert('📧 NPS Survey Campaign\n\nSending survey to 245 active customers...\n\n✓ Email templates prepared\n✓ Response tracking enabled\n✓ Auto-reminders scheduled\n\nExpected response rate: 35-40%\nCampaign will run for 7 days');
        }
    </script>
</body>
</html>
